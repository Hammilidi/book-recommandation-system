{% extends "base.html" %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Mes Emprunts</h2>

<table class="w-full border-collapse border border-gray-300">
    <thead>
        <tr class="bg-gray-100">
            <th class="border px-4 py-2">Titre du Livre</th>
            <th class="border px-4 py-2">Date Emprunt</th>
            <th class="border px-4 py-2">Date Retour Pr√©vue</th>
            <th class="border px-4 py-2">Date Retour Effectif</th>
            <th class="border px-4 py-2">Statut</th>
        </tr>
    </thead>
    <tbody>
        {% for emprunt in emprunts %}
        <tr>
            <td class="border px-4 py-2">{{ emprunt.livre_titre }}</td>
            <td class="border px-4 py-2">{{ emprunt.date_emprunt.strftime("%d/%m/%Y") }}</td>
            <td class="border px-4 py-2">{{ emprunt.date_retour_prevue.strftime("%d/%m/%Y") }}</td>
            <td class="border px-4 py-2">
                {% if emprunt.date_retour_effectif %}
                    {{ emprunt.date_retour_effectif.strftime("%d/%m/%Y") }}
                {% else %}
                    -
                {% endif %}
            </td>
            <td class="border px-4 py-2">
                {% if emprunt.statut == "en retard" %}
                    <span class="text-red-500 font-bold">En retard</span>
                {% else %}
                    <span class="text-green-600">{{ emprunt.statut }}</span>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
