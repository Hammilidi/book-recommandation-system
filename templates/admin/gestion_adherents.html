{% extends "base.html" %}
{% block title %}Gestion des adhérents{% endblock %}
{% block content %}
<h1 class="text-3xl font-bold text-gray-800 mb-6">Gestion des adhérents</h1>
<div class="bg-white rounded-lg shadow-md p-6">
    <table class="min-w-full table-auto">
        <thead>
            <tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                <th class="py-3 px-6 text-left">Nom</th>
                <th class="py-3 px-6 text-left">Email</th>
                <th class="py-3 px-6 text-left">Statut</th>
                <th class="py-3 px-6 text-center">Actions</th>
            </tr>
        </thead>
        <tbody class="text-gray-600 text-sm font-light">
            {% for adherent in adherents %}
                <tr class="border-b border-gray-200 hover:bg-gray-100">
                    <td class="py-3 px-6 text-left whitespace-nowrap">{{ adherent.nom }}</td>
                    <td class="py-3 px-6 text-left">{{ adherent.email }}</td>
                    <td class="py-3 px-6 text-left">
                        <span class="relative inline-block px-3 py-1 font-semibold text-{{ 'green-900' if adherent.actif else 'red-900' }} leading-tight">
                            <span aria-hidden="true" class="absolute inset-0 bg-{{ 'green-200' if adherent.actif else 'red-200' }} opacity-50 rounded-full"></span>
                            <span class="relative">{{ 'Actif' if adherent.actif else 'Suspendu' }}</span>
                        </span>
                    </td>
                    <td class="py-3 px-6 text-center">
                        <form action="/api/adherents/suspend/{{ adherent.id }}" method="post" class="inline">
                            <button type="submit" class="bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-700 transition-colors duration-300">
                                {% if adherent.actif %}Suspendre{% else %}Réactiver{% endif %}
                            </button>
                        </form>
                        <form action="/api/adherents/delete/{{ adherent.id }}" method="post" class="inline" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet adhérent ?');">
                            <button type="submit" class="bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700 transition-colors duration-300">Supprimer</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}